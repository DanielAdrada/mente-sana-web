@model Presentation.Models.StudentHomeViewModel
@{
    Layout = "~/Views/Shared/_StudentLayout.cshtml";
    ViewBag.Title = "Panel del Estudiante";
}

<!-- HERO -->
<section class="bg-gradient-to-br from-primary to-secondary text-white">
    <div class="max-w-[1100px] mx-auto px-5 py-14 grid md:grid-cols-[1.2fr_.8fr] gap-6 items-center">

        <div>
            <span class="inline-block bg-white/20 dark:bg-white/10 px-4 py-1 rounded-full text-sm mb-3">
                🌱 Tu espacio seguro
            </span>

            <h1 class="text-[clamp(28px,5vw,42px)] font-bold leading-tight">
                ¡Hola, @Session["Usuario"] 👋!
            </h1>

            <p class="text-white/90 dark:text-white/80 mt-3 max-w-[520px]">
                Bienvenido a <strong>MenteSana</strong>.
                Aquí puedes explorar tus emociones, aprender a cuidarte y compartir sin juicios.
            </p>

            <div class="flex flex-wrap gap-3 mt-6">
                <button class="bg-white dark:bg-gray-700 text-deep dark:text-white px-5 py-3 rounded-xl font-semibold shadow hover:-translate-y-[2px] transition">
                    🧭 Test de emociones
                </button>
                <button class="bg-black/20 dark:bg-white/10 text-white dark:text-white px-5 py-3 rounded-xl font-semibold hover:bg-black/30 dark:hover:bg-white/20 transition">
                    🌿 Respiración guiada
                </button>
            </div>
        </div>

    </div>
</section>

<!-- MAIN -->
<main class="max-w-[1100px] mx-auto px-5 my-6 grid md:grid-cols-[2fr_1fr] gap-5">

    <!-- RECURSOS -->
    <section class="bg-card dark:bg-slate-800 rounded-xl2 shadow-soft p-[18px]">
        <h3 class="text-secondary dark:text-secondary font-semibold mb-4">
            🎯 Recursos para ti hoy
        </h3>

        <div class="grid md:grid-cols-3 sm:grid-cols-2 gap-4">

            <article class="group bg-gradient-to-b from-blue-50 dark:from-slate-700 to-transparent
                    border border-blue-200 dark:border-slate-600 rounded-xl3 p-4 flex flex-col gap-3
                    hover:shadow transition">
                <span class="text-3xl">🧘</span>
                <strong class="text-deep dark:text-white">Mindfulness 5 min</strong>
                <p class="text-sm text-muted dark:text-gray-300">
                    Ejercicio rápido para calmar mente y cuerpo.
                </p>
                <button class="mt-auto bg-white dark:bg-gray-700 text-deep dark:text-white px-4 py-2 rounded-xl group-hover:bg-blue-100 dark:group-hover:bg-gray-600 transition">
                    Comenzar
                </button>
            </article>

            <article class="group bg-gradient-to-b from-blue-50 dark:from-slate-700 to-transparent
        border border-blue-200 dark:border-slate-600 rounded-xl3 p-4 flex flex-col gap-3
        hover:shadow transition">
                <span class="text-3xl">🧠</span>
                <strong class="text-deep dark:text-white">Mindfulness 5 min</strong>
                <p class="text-sm text-muted dark:text-gray-300">
                    Guía visual sencilla para entender lo que sientes.
                </p>
                < <button class="mt-auto bg-white dark:bg-gray-700 text-deep dark:text-white px-4 py-2 rounded-xl group-hover:bg-blue-100 dark:group-hover:bg-gray-600 transition">
                    Ver guía
                </button>
            </article>

            <article class="group bg-gradient-to-b from-blue-50 dark:from-slate-700 to-transparent
        border border-blue-200 dark:border-slate-600 rounded-xl3 p-4 flex flex-col gap-3
        hover:shadow transition">
                <span class="text-3xl">🌙</span>
                <strong class="text-deep dark:text-white">Mindfulness 5 min</strong>
                <p class="text-sm text-muted dark:text-gray-300">
                    Checklist práctico para descansar mejor.
                </p>
                <button class="mt-auto bg-white dark:bg-gray-700 text-deep dark:text-white px-4 py-2 rounded-xl group-hover:bg-blue-100 dark:group-hover:bg-gray-600 transition">
                    Abrir
                </button>
            </article>

        </div>
    </section>

    <!-- COMUNIDAD -->
    <aside class="bg-card dark:bg-slate-800 rounded-xl2 shadow-soft p-[18px]">
        <h3 class="text-secondary dark:text-secondary font-semibold mb-2">
            💬 Comunidad segura
        </h3>

        <p class="text-sm text-muted dark:text-gray-300 mb-4">
            Lo que otros estudiantes han compartido 💙
        </p>

        <div class="space-y-3">
            @if (Model.Comentarios != null && Model.Comentarios.Any())
            {
                foreach (var item in Model.Comentarios.Take(3))

                {
                    <div class="bg-gray-50 dark:bg-gray-700 rounded-xl p-3">
                        <strong class="text-deep dark:text-white">
                            @item.Usuario
                        </strong>

                        <p class="text-sm text-gray-700 dark:text-gray-200 mt-1">
                            @item.Contenido
                        </p>

                        <span class="text-xs text-gray-400 dark:text-gray-300">
                            @item.Fecha.ToString("dd/MM/yyyy")
                        </span>
                    </div>
                }
            }
            else
            {
                <p class="text-sm text-gray-400 dark:text-gray-300">
                    Aún no hay mensajes positivos.
                </p>
            }
        </div>

        <a href="@Url.Action("Index", "Community")"
           class="mt-5 block w-full bg-primary hover:bg-primary-600 text-black dark:text-white text-center font-semibold py-3 rounded-xl transition">
            ✨ Compartir algo positivo
        </a>
    </aside>



</main>
